<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />

    <!-- <link href="https://fonts.googleapis.com/css2?family=Inter&display=swap" rel="stylesheet">  -->
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Tangerine">

    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://kit.fontawesome.com/9f3da960b8.js" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/js-confetti@latest/dist/js-confetti.browser.js"></script>


    <title>ğŸ„Merry ChristmasğŸ„</title>

    <script>
      tailwind.config = {
        theme: {
          backgroundImage: {
            // 'confetti': "url('../src/images/confetti.gif')"
            'background-confetti': "url('confetti.gif')"
          },

          extend: {
            colors: {
              'darker-green': '#046341',
              'light-green': '#108242',
              'dark-red': '#f50c11',
              'light-red': '#fa1b34',
              'light-brown': '#a85c14',
              'dark-brown': '#50241c',
              'transparent': 'transparent'
            }

          }
        }
      }
    </script>

    <audio id="music" autoplay src="{{music}}" type="audio/mp3"></audio>

  </head>
  <body class="bg-darker-green flex items-center justify-center text-slate-900 font-mono">

    <div id="background-image" class="grid place-items-center h-screen align-middle">
      <div id="text-body" class="rounded-xl backdrop-blur-sm p-8 grid gap-4 grid-flow-row md:grid-flow-col text-xs sm:text-sm md:text-lg lg:text-lg xl:text-3xl">
        <div class="grid grid-flow-row gap-4">
          <h1 id="title" class="font-extrabold italic text-dark-brown text-2xl xs:text-4xl sm:text-5xl md:text-5xl lg:text-5xl xl:text-6xl" contenteditable="true">ğŸ„ğŸ„ Merry Christmas! ğŸ„ğŸ„</h1>
          <p id="abovetext" class="text-center text-dark-brown text-lg md:text-xl lg:text-2xl xl:text-3xl">
            
            {{text_body}}

          </p>
            <button class="hover:font-extrabold" onclick="playInput()" id=""><p id="abovetext" class="text-right italic text-dark-brown text-lg md:text-xl lg:text-2xl xl:text-3xl">-Sean</p></button>
        </div>
      </div>
    </div>

    <script>
      let jsConfetti = new JSConfetti();

      function playConfetti(emojis) {
        jsConfetti.addConfetti({
          emojis: emojis,
          emojiSize: 100,
          confettiNumber: 30,
          confettiColors: [
            "#ff0a54",
            "#ff477e",
            "#ff7096",
            "#ff85a1",
            "#fbb1bd",
            "#f9bec7",
          ],
        });
      };

      function playInput() {
        input = document.getElementById("title").innerHTML;
        if (input != "ğŸ„ğŸ„ Merry Christmas! ğŸ„ğŸ„") {

          let emojis = [];
          let counter = 0;
          let completeCharacter = "";
          for (let x = 0; x < input.length; x++) {
            completeCharacter += input.substring(x, x + 1);
            if (x % 2 == 1) {
              emojis[counter] = completeCharacter;
              completeCharacter = "";
              counter++;
            }
          }
          console.log(emojis);
          playConfetti(emojis);
        }
      }

    </script>

    <script>playConfetti(["ğŸ„", "ğŸ…ğŸ¼", "ğŸ"])</script>

  </body>
</html>